<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>I AM HUMAN — Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#000; --fg:#fff;
  --alert:#ff2f4d;
  --ntx:#7EE7FF;
}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--fg);
  font-family:"Share Tech Mono","Courier New",monospace;
  display:flex;align-items:center;justify-content:center;overflow:hidden;
  padding:24px;
}
body::before{
  content:"";position:fixed;inset:0;pointer-events:none;z-index:0;
  background:
    repeating-linear-gradient(transparent 0 1.4px,rgba(255,255,255,.14)1.4px 2.7px),
    radial-gradient(rgba(255,255,255,.08),transparent 65%);
  mix-blend-mode:screen;opacity:.62;animation:crtJitter 1.1s steps(8,end) infinite;
}
body::after{
  content:"";position:fixed;inset:0;pointer-events:none;z-index:0;
  background:
    radial-gradient(transparent 35%,rgba(0,0,0,.52) 75%),
    repeating-linear-gradient(90deg,rgba(255,255,255,.07) 0 1px,transparent 1px 3px);
  mix-blend-mode:screen;opacity:.36;animation:noiseShift .9s steps(7,end) infinite;
}
@keyframes crtJitter{0%,100%{transform:none}40%{transform:translateX(.6px)}70%{transform:translateX(-.6px)}}
@keyframes noiseShift{0%{transform:none}50%{transform:translate(.8px,-.7px)}100%{transform:none}}

.wrap{position:relative;z-index:1;width:min(92vw,780px);display:grid;gap:28px;place-items:center}
pre{margin:0;max-width:64ch;white-space:pre-wrap;font-size:clamp(14px,2.6vw,19px);line-height:1.6}

.cursor{display:inline-block;width:.65ch}
.blink{animation:blink .55s step-end infinite}
.freeze .blink{animation-play-state:paused}
@keyframes blink{50%{opacity:0}}

.tag{color:var(--ntx);text-shadow:0 0 3px rgba(126,231,255,.96),0 0 6px rgba(126,231,255,.75),0 0 12px rgba(126,231,255,.55),0 0 20px rgba(126,231,255,.35)}
.date{color:#fff;text-shadow:0 0 3px var(--alert),0 0 6px var(--alert),0 0 12px var(--alert);animation:twinkle .9s step-end infinite}
@keyframes twinkle{50%{opacity:0}}

.log-ghost{animation:ghost1 3.9s ease-out 1}
.log-ghost2{animation:ghost2 3.6s ease-out 1}
@keyframes ghost1{
  0%{text-shadow:none;opacity:1}
  38%{text-shadow:0 0 8px rgba(255,255,255,.9),0 0 18px rgba(255,255,255,.6)}
  48%{text-shadow:0 0 10px rgba(255,255,255,1),0 0 22px rgba(255,255,255,.7)}
  100%{text-shadow:none;opacity:1}
}
@keyframes ghost2{
  0%{text-shadow:none;opacity:1}
  35%{text-shadow:0 0 6px rgba(255,255,255,.7),0 0 14px rgba(255,255,255,.45)}
  100%{text-shadow:none;opacity:1}
}

.usb{position:relative;width:min(75vw,520px);aspect-ratio:16/9;opacity:0;transition:opacity 2.5s ease}
.usb img{width:100%;height:100%;object-fit:contain;display:block}
.usb::before,.usb::after{content:"";position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen;border-radius:6px;opacity:0}
.usb.flicker{opacity:.7}
.usb.flicker::before{
  box-shadow:
    0 0 10px rgba(255,255,255,.85),
    0 0 20px rgba(255,255,255,.7),
    0 0 34px rgba(210,180,255,.5),
    0 0 52px rgba(210,180,255,.35);
  animation:emberBreath 3.8s ease-in-out infinite;
  opacity:.75;
}
.usb.flicker::after{
  box-shadow:
    0 0 6px rgba(255,255,255,.6),
    0 0 12px rgba(255,255,255,.45);
  animation:emberFlicker 1.8s steps(6,end) infinite;
  opacity:.5;
}
@keyframes emberBreath{0%,100%{transform:none;opacity:.55}50%{transform:translateX(.6px);opacity:.95}}
@keyframes emberFlicker{0%{opacity:.35}50%{opacity:.8}100%{opacity:.35}}

@media (prefers-reduced-motion:reduce){
  .blink,.tag,.date,.log-ghost,.log-ghost2,body::before,body::after,.usb::before,.usb::after{animation:none!important;text-shadow:none!important}
}
</style>
</head>
<body>
  <div class="wrap">
    <pre id="out"></pre>
    <div id="usb" class="usb"><img src="usb.png" alt="recovered usb"></div>
  </div>

<script>
const ENDINGS=["#next_transmission : march 2026","#estimated_intercept : march 2026"];
const VARIANTS=[
  [
    "> searching static…",
    "> log : low-frequency hum detected — waiting for resonance, waiting for contact.",
    "> status : Δ-LOST SP//ARK",
    "> signal : sub-bass residue",
    "> bpm : 122"
  ],
  [
    "> searching static…",
    "> log : residual loop fragments detected — unfinished, magnetic, raw.",
    "> status : Δ-LOST SP//ARK",
    "> signal : sub-bass residue",
    "> bpm : 122"
  ],
  [
    "> searching static…",
    "> log : residual loop fragment detected — something quiet, something human.",
    "> status : Δ-WAVECATCHER",
    "> signal : sub-harmonic trace",
    "> bpm : 122"
  ],
  [
    "> searching static…",
    "> log : faint harmonic pulse detected — energy rising.",
    "> status : Δ-LOST SP//ARK",
    "> signal : rhythmic ghost pattern",
    "> bpm : 122"
  ]
];

const SPEED_BASE=20, SPEED_JITTER=8, LOG_STUTTER_MAX=50, SEARCH_PAUSE=1600;
const out=document.getElementById("out");
const usb=document.getElementById("usb");

function rnd(a,b){return Math.random()*(b-a)+a}
function ms(n){return new Promise(r=>setTimeout(r,n))}

async function typeLine(text,{isLog=false,keepCursor=false}={}){
  const line=document.createElement("div");
  const span=document.createElement("span");
  line.appendChild(span);
  const cursor=document.createElement("span");cursor.className="cursor blink";cursor.textContent="▮";line.appendChild(cursor);
  out.appendChild(line);

  let i=0;
  while(i<text.length){
    const step=Math.floor(rnd(SPEED_BASE-SPEED_JITTER,SPEED_BASE+SPEED_JITTER));
    span.innerHTML=text.slice(0,++i)
      .replace(/^\s*#next_transmission\s*:/i,'<span class="tag">#next_transmission</span> :')
      .replace(/^\s*#estimated_intercept\s*:/i,'<span class="tag">#estimated_intercept</span> :')
      .replace(/march 2026/gi,'<span class="date">march 2026</span>');
    let delay=step;
    if(isLog && Math.random()<0.18) delay+=Math.floor(rnd(10,LOG_STUTTER_MAX));
    await ms(delay);
  }

  if(isLog){
    document.body.classList.add('freeze');
    span.classList.add('log-ghost');
    await ms(3900);
    span.classList.remove('log-ghost');
    span.classList.add('log-ghost2');
    await ms(3600);
    span.classList.remove('log-ghost2');
    document.body.classList.remove('freeze');
  }

  if(!keepCursor) cursor.remove();
  return span;
}

async function run(){
  const chosen=VARIANTS[Math.floor(Math.random()*VARIANTS.length)].slice();
  const ending=Math.random()<0.7?ENDINGS[0]:ENDINGS[1];
  chosen.push(ending);

  const first=await typeLine(chosen[0],{keepCursor:true});
  await ms(SEARCH_PAUSE);

  for(let idx=1; idx<chosen.length; idx++){
    const isLog = idx===1;
    await typeLine(chosen[idx],{isLog,keepCursor:true});
  }

  await ms(300);
  usb.style.opacity=".7";
  await ms(2500);
  usb.classList.add('flicker');

  (function flickerBursts(){
    const burstDelay=rnd(400,1200);
    setTimeout(()=>{
      const hits=2+Math.floor(Math.random()*3);
      for(let i=0;i<hits;i++){
        setTimeout(()=>{
          usb.style.opacity="1";
          setTimeout(()=>{usb.style.opacity=".7"},90+Math.random()*90);
        }, i*80 + Math.random()*60);
      }
      flickerBursts();
    }, burstDelay);
  })();
}

run();
</script>
</body>
</html>
